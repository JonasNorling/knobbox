EESchema Schematic File Version 2  date Sat 21 Apr 2012 03:25:21 PM CEST
LIBS:power
LIBS:device
LIBS:transistors
LIBS:conn
LIBS:linear
LIBS:regul
LIBS:74xx
LIBS:cmos4000
LIBS:adc-dac
LIBS:memory
LIBS:xilinx
LIBS:special
LIBS:microcontrollers
LIBS:dsp
LIBS:microchip
LIBS:analog_switches
LIBS:motorola
LIBS:texas
LIBS:intel
LIBS:audio
LIBS:interface
LIBS:digital-audio
LIBS:philips
LIBS:display
LIBS:cypress
LIBS:siliconi
LIBS:opto
LIBS:atmel
LIBS:contrib
LIBS:valves
LIBS:bourns-encoder
LIBS:stm32
LIBS:spi-flash
LIBS:nhd-lcd
LIBS:r-network
LIBS:lm1117
LIBS:74hc
LIBS:dogs102-6
LIBS:pdt-transistor
LIBS:tact
LIBS:knobboard-cache
EELAYER 25  0
EELAYER END
$Descr A4 11700 8267
encoding utf-8
Sheet 1 8
Title ""
Date "21 apr 2012"
Rev ""
Comp ""
Comment1 ""
Comment2 ""
Comment3 ""
Comment4 ""
$EndDescr
Wire Wire Line
	6700 3200 6650 3200
Wire Wire Line
	6650 3200 6650 3850
Wire Wire Line
	6650 3850 8400 3850
Wire Wire Line
	8400 3850 8400 4700
Wire Wire Line
	8400 4700 8200 4700
Wire Wire Line
	8200 6000 8800 6000
Wire Wire Line
	8200 5800 8800 5800
Wire Wire Line
	8200 5700 8800 5700
Wire Wire Line
	8200 5600 8800 5600
Wire Wire Line
	8200 5500 8800 5500
Wire Wire Line
	6650 6400 6650 5700
Wire Wire Line
	6650 5700 6700 5700
Connection ~ 6050 4600
Wire Wire Line
	6050 2200 6050 5900
Wire Wire Line
	6050 5900 6700 5900
Connection ~ 6450 4300
Wire Wire Line
	6450 5600 6450 1350
Wire Wire Line
	6450 5600 6700 5600
Connection ~ 6250 5400
Wire Wire Line
	6700 5400 6250 5400
Wire Wire Line
	6700 4700 6550 4700
Wire Wire Line
	6550 4700 6550 3750
Wire Wire Line
	6550 3750 8500 3750
Wire Wire Line
	8500 3750 8500 3550
Wire Wire Line
	8500 3550 8200 3550
Connection ~ 6150 3300
Wire Wire Line
	6150 4500 6700 4500
Connection ~ 6350 3000
Wire Wire Line
	6350 4200 6700 4200
Wire Wire Line
	6250 6250 6250 1150
Connection ~ 6150 2100
Wire Wire Line
	6150 3300 6700 3300
Wire Wire Line
	6350 3000 6700 3000
Wire Wire Line
	8200 3450 8800 3450
Wire Wire Line
	8200 3100 8800 3100
Wire Wire Line
	8200 2900 8800 2900
Wire Wire Line
	5600 2500 5900 2500
Connection ~ 6450 1900
Wire Wire Line
	6450 1350 8800 1350
Wire Wire Line
	6250 1150 8800 1150
Wire Wire Line
	6700 2200 5600 2200
Wire Wire Line
	6700 1900 5600 1900
Wire Wire Line
	6700 1700 5600 1700
Wire Wire Line
	8200 1900 8800 1900
Wire Wire Line
	8200 2100 8800 2100
Wire Wire Line
	3000 2300 3600 2300
Wire Wire Line
	3000 2000 3600 2000
Wire Wire Line
	3000 1700 3600 1700
Wire Wire Line
	3600 1800 3000 1800
Wire Wire Line
	3600 2100 3000 2100
Wire Wire Line
	3600 2400 3000 2400
Wire Wire Line
	8200 2000 8800 2000
Wire Wire Line
	8200 1800 8800 1800
Wire Wire Line
	6700 2300 5600 2300
Wire Wire Line
	5600 1800 6700 1800
Wire Wire Line
	5600 2100 6700 2100
Connection ~ 6250 1700
Wire Wire Line
	8800 1250 6350 1250
Connection ~ 6350 1800
Wire Wire Line
	8200 2250 8600 2250
Wire Wire Line
	8600 2250 8600 2550
Wire Wire Line
	8600 2550 5900 2550
Wire Wire Line
	5900 2550 5900 2500
Wire Wire Line
	6150 800  10350 800 
Wire Wire Line
	6150 800  6150 2000
Wire Wire Line
	6150 2000 6700 2000
Wire Wire Line
	8800 3000 8200 3000
Wire Wire Line
	8800 3200 8200 3200
Wire Wire Line
	8200 2350 8500 2350
Wire Wire Line
	8500 2350 8500 2650
Wire Wire Line
	8500 2650 6550 2650
Wire Wire Line
	6550 2650 6550 3500
Wire Wire Line
	6550 3500 6700 3500
Wire Wire Line
	6250 2900 6700 2900
Connection ~ 6250 2900
Wire Wire Line
	6450 3100 6700 3100
Wire Wire Line
	6050 3400 6700 3400
Connection ~ 6050 2200
Wire Wire Line
	6700 4100 6250 4100
Connection ~ 6250 4100
Wire Wire Line
	6450 4300 6700 4300
Connection ~ 6450 3100
Wire Wire Line
	6050 4600 6700 4600
Connection ~ 6050 3400
Wire Wire Line
	8200 4800 8550 4800
Wire Wire Line
	8550 4800 8550 5050
Wire Wire Line
	8550 5050 6550 5050
Wire Wire Line
	6550 5050 6550 6000
Wire Wire Line
	6550 6000 6700 6000
Wire Wire Line
	6700 5500 6350 5500
Wire Wire Line
	6350 5500 6350 1250
Connection ~ 6350 4200
Wire Wire Line
	6700 5800 6150 5800
Wire Wire Line
	6150 5800 6150 2100
Connection ~ 6150 4500
Wire Wire Line
	8200 6100 8350 6100
Wire Wire Line
	8200 4200 8800 4200
Wire Wire Line
	8200 4300 8800 4300
Wire Wire Line
	8200 4400 8800 4400
Wire Wire Line
	8200 4500 8800 4500
Wire Wire Line
	10350 800  10350 2500
Wire Wire Line
	10350 2500 10200 2500
Wire Wire Line
	10200 5000 10400 5000
Wire Wire Line
	10400 5000 10400 6950
Wire Wire Line
	10400 6950 5950 6950
Wire Wire Line
	5950 6950 5950 4400
Wire Wire Line
	5950 4400 6700 4400
NoConn ~ 8350 6100
$Sheet
S 6700 5250 1500 1000
U 4F92B0F3
F0 "encoders4" 60
F1 "encoders4.sch" 0
F2 "SHIFT_CLK" I L 6700 5400 60 
F3 "BTN_LOAD" I L 6700 5500 60 
F4 "BTN_CE" I L 6700 5600 60 
F5 "BTNSHIFT_OUT" O R 8200 6000 60 
F6 "BTNSHIFT_IN" I L 6700 5700 60 
F7 "LEDSHIFT_OUT" O R 8200 6100 60 
F8 "LED_OE" I L 6700 5900 60 
F9 "LED_LOAD" I L 6700 5800 60 
F10 "LEDSHIFT_IN" I L 6700 6000 60 
F11 "SW4" O R 8200 5800 60 
F12 "SW3" O R 8200 5700 60 
F13 "SW2" O R 8200 5600 60 
F14 "SW1" O R 8200 5500 60 
$EndSheet
$Sheet
S 6700 3950 1500 1000
U 4F92A9C4
F0 "encoders3" 60
F1 "encoders3.sch" 0
F2 "SHIFT_CLK" I L 6700 4100 60 
F3 "BTN_LOAD" I L 6700 4200 60 
F4 "BTN_CE" I L 6700 4300 60 
F5 "BTNSHIFT_OUT" O R 8200 4700 60 
F6 "BTNSHIFT_IN" I L 6700 4400 60 
F7 "LEDSHIFT_OUT" O R 8200 4800 60 
F8 "LED_OE" I L 6700 4600 60 
F9 "LED_LOAD" I L 6700 4500 60 
F10 "LEDSHIFT_IN" I L 6700 4700 60 
F11 "SW4" O R 8200 4500 60 
F12 "SW3" O R 8200 4400 60 
F13 "SW2" O R 8200 4300 60 
F14 "SW1" O R 8200 4200 60 
$EndSheet
$Comp
L CONN_1 H10
U 1 1 4F90F9F5
P 2200 6800
F 0 "H10" H 2280 6800 40  0000 L CNN
F 1 "CONN_1" H 2200 6855 30  0001 C CNN
	1    2200 6800
	1    0    0    -1  
$EndComp
$Comp
L CONN_1 H9
U 1 1 4F90F9F3
P 2200 6700
F 0 "H9" H 2280 6700 40  0000 L CNN
F 1 "CONN_1" H 2200 6755 30  0001 C CNN
	1    2200 6700
	1    0    0    -1  
$EndComp
Text Notes 2500 6600 1    60   ~ 0
Mounting holes
$Comp
L CONN_1 H8
U 1 1 4F90F606
P 2200 6600
F 0 "H8" H 2280 6600 40  0000 L CNN
F 1 "CONN_1" H 2200 6655 30  0001 C CNN
	1    2200 6600
	1    0    0    -1  
$EndComp
$Comp
L CONN_1 H7
U 1 1 4F90F605
P 2200 6500
F 0 "H7" H 2280 6500 40  0000 L CNN
F 1 "CONN_1" H 2200 6555 30  0001 C CNN
	1    2200 6500
	1    0    0    -1  
$EndComp
$Comp
L CONN_1 H6
U 1 1 4F90F604
P 2200 6400
F 0 "H6" H 2280 6400 40  0000 L CNN
F 1 "CONN_1" H 2200 6455 30  0001 C CNN
	1    2200 6400
	1    0    0    -1  
$EndComp
$Comp
L CONN_1 H5
U 1 1 4F90F602
P 2200 6300
F 0 "H5" H 2280 6300 40  0000 L CNN
F 1 "CONN_1" H 2200 6355 30  0001 C CNN
	1    2200 6300
	1    0    0    -1  
$EndComp
$Comp
L CONN_1 H4
U 1 1 4F90F601
P 2200 6200
F 0 "H4" H 2280 6200 40  0000 L CNN
F 1 "CONN_1" H 2200 6255 30  0001 C CNN
	1    2200 6200
	1    0    0    -1  
$EndComp
$Comp
L CONN_1 H3
U 1 1 4F90F5FF
P 2200 6100
F 0 "H3" H 2280 6100 40  0000 L CNN
F 1 "CONN_1" H 2200 6155 30  0001 C CNN
	1    2200 6100
	1    0    0    -1  
$EndComp
$Comp
L CONN_1 H2
U 1 1 4F90F5FD
P 2200 6000
F 0 "H2" H 2280 6000 40  0000 L CNN
F 1 "CONN_1" H 2200 6055 30  0001 C CNN
	1    2200 6000
	1    0    0    -1  
$EndComp
$Comp
L CONN_1 H1
U 1 1 4F90F5D6
P 2200 5900
F 0 "H1" H 2280 5900 40  0000 L CNN
F 1 "CONN_1" H 2200 5955 30  0001 C CNN
	1    2200 5900
	1    0    0    -1  
$EndComp
$Sheet
S 6700 2750 1500 900 
U 4F905A24
F0 "encoders2" 60
F1 "encoders2.sch" 60
F2 "SHIFT_CLK" I L 6700 2900 60 
F3 "BTN_LOAD" I L 6700 3000 60 
F4 "BTN_CE" I L 6700 3100 60 
F5 "BTNSHIFT_OUT" O R 8200 3450 60 
F6 "BTNSHIFT_IN" I L 6700 3200 60 
F7 "LEDSHIFT_OUT" O R 8200 3550 60 
F8 "LED_OE" I L 6700 3400 60 
F9 "LED_LOAD" I L 6700 3300 60 
F10 "LEDSHIFT_IN" I L 6700 3500 60 
F11 "SW4" O R 8200 3200 60 
F12 "SW3" O R 8200 3100 60 
F13 "SW2" O R 8200 3000 60 
F14 "SW1" O R 8200 2900 60 
$EndSheet
$Sheet
S 8800 1000 1400 5250
U 4F81A858
F0 "switchbus" 60
F1 "switchbus.sch" 60
F2 "SW16" I L 8800 5800 60 
F3 "SW15" I L 8800 5700 60 
F4 "SW14" I L 8800 5600 60 
F5 "SW13" I L 8800 5500 60 
F6 "SW12" I L 8800 4500 60 
F7 "SW11" I L 8800 4400 60 
F8 "SW10" I L 8800 4300 60 
F9 "SW9" I L 8800 4200 60 
F10 "SW8" I L 8800 3200 60 
F11 "SW7" I L 8800 3100 60 
F12 "SW6" I L 8800 3000 60 
F13 "SW5" I L 8800 2900 60 
F14 "SW4" I L 8800 2100 60 
F15 "SW3" I L 8800 2000 60 
F16 "SW2" I L 8800 1900 60 
F17 "SW1" I L 8800 1800 60 
F18 "BTNSHIFT_OUT0" O R 10200 2500 60 
F19 "BTN_CE" I L 8800 1350 60 
F20 "BTN_LOAD" I L 8800 1250 60 
F21 "SHIFT_CLK" I L 8800 1150 60 
F22 "BTNSHIFT_IN0" I L 8800 3450 60 
F23 "BTNSHIFT_OUT1" O R 10200 5000 60 
F24 "BTNSHIFT_IN1" I L 8800 6000 60 
$EndSheet
$Comp
L GND #PWR2
U 1 1 4F8DA5D4
P 6650 6400
F 0 "#PWR2" H 6650 6400 30  0001 C CNN
F 1 "GND" H 6650 6330 30  0001 C CNN
	1    6650 6400
	1    0    0    -1  
$EndComp
Text Notes 6150 6200 3    60   ~ 0
Place at end of line
$Comp
L GND #PWR1
U 1 1 4F8DA3E0
P 6250 6750
F 0 "#PWR1" H 6250 6750 30  0001 C CNN
F 1 "GND" H 6250 6680 30  0001 C CNN
	1    6250 6750
	1    0    0    -1  
$EndComp
$Comp
L R R18
U 1 1 4F8DA3D4
P 6250 6500
F 0 "R18" V 6330 6500 50  0000 C CNN
F 1 "DNP" V 6250 6500 50  0000 C CNN
	1    6250 6500
	1    0    0    -1  
$EndComp
$Sheet
S 6700 1550 1500 900 
U 4F7E05A5
F0 "encoders" 60
F1 "encoders.sch" 60
F2 "SW4" O R 8200 2100 60 
F3 "SW3" O R 8200 2000 60 
F4 "SW2" O R 8200 1900 60 
F5 "SW1" O R 8200 1800 60 
F6 "SHIFT_CLK" I L 6700 1700 60 
F7 "BTN_LOAD" I L 6700 1800 60 
F8 "BTN_CE" I L 6700 1900 60 
F9 "BTNSHIFT_OUT" O R 8200 2250 60 
F10 "BTNSHIFT_IN" I L 6700 2000 60 
F11 "LEDSHIFT_OUT" O R 8200 2350 60 
F12 "LED_OE" I L 6700 2200 60 
F13 "LED_LOAD" I L 6700 2100 60 
F14 "LEDSHIFT_IN" I L 6700 2300 60 
$EndSheet
$Sheet
S 1500 1550 1500 1900
U 4F80537C
F0 "io" 60
F1 "io.sch" 60
F2 "MIDI_RX" O R 3000 1800 60 
F3 "MIDI_TX" I R 3000 1700 60 
F4 "PGM_TX" I R 3000 2400 60 
F5 "PGM_RX" O R 3000 2300 60 
F6 "USB_DM" B R 3000 2100 60 
F7 "USB_DP" B R 3000 2000 60 
$EndSheet
$Sheet
S 3600 1550 2000 1900
U 4F7EF61F
F0 "stm32" 60
F1 "stm32.sch" 60
F2 "MIDI_TX" O L 3600 1700 60 
F3 "MIDI_RX" I L 3600 1800 60 
F4 "USB_DP" B L 3600 2000 60 
F5 "USB_DM" B L 3600 2100 60 
F6 "PGM_RX" I L 3600 2300 60 
F7 "PGM_TX" O L 3600 2400 60 
F8 "LED_SHIFT" O R 5600 2300 60 
F9 "LED_OE" O R 5600 2200 60 
F10 "LED_LOAD" O R 5600 2100 60 
F11 "BTN_CE" O R 5600 1900 60 
F12 "BTN_LOAD" O R 5600 1800 60 
F13 "BTN_SHIFT" I R 5600 2500 60 
F14 "SHIFT_CLK" O R 5600 1700 60 
$EndSheet
Text Notes 1500 4050 0    60   ~ 0
STM32\n3V3 vreg\nMIDI I/O -- needs 5V\nmicro-USB\npins for USART1 programming\nencoders -- 2 LEDs, button, gray output\n   -- needs filter circuit 4R+2C?\n   -- blue and green LEDs have Vf up to 4V\n   -- so I need a level-changing buffer to drive the anode at 5V\n   -- use a latch instead of buffer, so the LEDs can be kept on all the time\nLCD COG or OLED display, on SPI\n2 buttons, at least\n   -- mode/power, ok, plypause, back\nunpopulated CV output circuitry?\nSPI EEPROM 8mbit\n"soft" power button -- keep idle power at uA levels\nSPI LCD display NHD-C12832A1Z-FSW-FBW-3V3 (Newhaven Display, 8.68€ @ Mouser)
$EndSCHEMATC
