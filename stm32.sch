EESchema Schematic File Version 2  date Sun 08 Apr 2012 06:37:26 PM CEST
LIBS:power
LIBS:device
LIBS:transistors
LIBS:conn
LIBS:linear
LIBS:regul
LIBS:74xx
LIBS:cmos4000
LIBS:adc-dac
LIBS:memory
LIBS:xilinx
LIBS:special
LIBS:microcontrollers
LIBS:dsp
LIBS:microchip
LIBS:analog_switches
LIBS:motorola
LIBS:texas
LIBS:intel
LIBS:audio
LIBS:interface
LIBS:digital-audio
LIBS:philips
LIBS:display
LIBS:cypress
LIBS:siliconi
LIBS:opto
LIBS:atmel
LIBS:contrib
LIBS:valves
LIBS:bourns-encoder
LIBS:stm32
LIBS:spi-flash
LIBS:nhd-lcd
LIBS:r-network
LIBS:knobboard-cache
EELAYER 25  0
EELAYER END
$Descr A4 11700 8267
encoding utf-8
Sheet 4 5
Title ""
Date "8 apr 2012"
Rev ""
Comp ""
Comment1 ""
Comment2 ""
Comment3 ""
Comment4 ""
$EndDescr
$Comp
L GND #PWR?
U 1 1 4F81BEBF
P 10100 1750
F 0 "#PWR?" H 10100 1750 30  0001 C CNN
F 1 "GND" H 10100 1680 30  0001 C CNN
	1    10100 1750
	1    0    0    -1  
$EndComp
Connection ~ 10100 1200
Wire Wire Line
	10000 1200 10100 1200
Connection ~ 10100 1400
Wire Wire Line
	10000 1400 10100 1400
Wire Wire Line
	10100 1750 10100 1100
Wire Wire Line
	10100 1100 9650 1100
Wire Wire Line
	8750 2100 8750 2050
Wire Wire Line
	8550 2050 8550 2100
Wire Wire Line
	8350 2100 8350 2050
Wire Wire Line
	9150 1400 9600 1400
Wire Wire Line
	9150 1200 9600 1200
Wire Wire Line
	9000 3850 8850 3850
Wire Wire Line
	8850 3850 8850 3800
Wire Wire Line
	6050 7300 6500 7300
Wire Wire Line
	6050 7000 6500 7000
Wire Wire Line
	6050 6900 6500 6900
Connection ~ 5150 7100
Wire Wire Line
	5250 7100 5150 7100
Wire Wire Line
	5200 6800 5200 6900
Wire Wire Line
	5200 6900 5250 6900
Wire Wire Line
	3550 1350 3550 2500
Connection ~ 2600 2500
Wire Wire Line
	2600 2500 2600 2650
Wire Wire Line
	2600 2650 5650 2650
Wire Wire Line
	5650 2650 5650 3650
Wire Wire Line
	5650 3650 4900 3650
Wire Wire Line
	4900 3850 5800 3850
Connection ~ 1600 1900
Wire Wire Line
	1800 1900 1600 1900
Wire Wire Line
	1800 2500 1600 2500
Connection ~ 3550 2200
Wire Wire Line
	3550 2200 3300 2200
Connection ~ 6000 4300
Wire Wire Line
	6000 4300 6000 4350
Connection ~ 6400 4300
Wire Wire Line
	6400 4300 6400 4350
Wire Wire Line
	5600 4350 5600 4250
Connection ~ 6400 5350
Wire Wire Line
	6400 4850 6400 5350
Connection ~ 6000 5150
Wire Wire Line
	6000 4850 6000 5150
Connection ~ 5600 4950
Wire Wire Line
	5600 4850 5600 4950
Wire Wire Line
	4900 5550 5300 5550
Wire Wire Line
	8150 2050 8150 2250
Wire Wire Line
	7950 2050 7950 2500
Wire Wire Line
	7750 2050 7750 2500
Wire Wire Line
	6150 4050 5000 4050
Connection ~ 5000 4350
Wire Wire Line
	5000 4050 5000 4350
Wire Wire Line
	10050 3100 10050 3400
Wire Wire Line
	10050 3400 9800 3400
Wire Wire Line
	8600 3100 8600 3500
Wire Wire Line
	8600 3500 8650 3500
Wire Wire Line
	9800 3600 10300 3600
Wire Wire Line
	9800 3500 10300 3500
Wire Wire Line
	9800 3300 9900 3300
Wire Wire Line
	5900 3300 6400 3300
Wire Wire Line
	5900 3300 5900 3950
Wire Wire Line
	2700 1600 2300 1600
Wire Wire Line
	800  5200 800  5250
Wire Wire Line
	800  5250 950  5250
Wire Wire Line
	6650 4050 6800 4050
Wire Wire Line
	2300 5450 1750 5450
Wire Wire Line
	6400 3300 6400 2950
Wire Wire Line
	2300 3750 1750 3750
Wire Wire Line
	2300 4050 1750 4050
Connection ~ 3200 7050
Connection ~ 2700 7050
Connection ~ 3450 6650
Wire Wire Line
	3700 6600 3700 6650
Wire Wire Line
	3700 6650 2450 6650
Connection ~ 2950 6650
Wire Wire Line
	6500 2350 5800 2350
Wire Wire Line
	5800 2350 5800 2550
Connection ~ 5800 3100
Connection ~ 5300 3550
Wire Wire Line
	1150 4750 1200 4750
Wire Wire Line
	1200 4750 1200 4850
Connection ~ 2050 6150
Wire Wire Line
	2050 5650 2050 6250
Wire Wire Line
	2050 6250 2300 6250
Wire Wire Line
	1050 4950 2300 4950
Connection ~ 5300 5950
Wire Wire Line
	4900 5950 5300 5950
Connection ~ 5300 6150
Wire Wire Line
	5300 6150 4900 6150
Connection ~ 2050 5950
Wire Wire Line
	2050 5950 2300 5950
Connection ~ 2050 5850
Wire Wire Line
	2300 6150 2050 6150
Wire Wire Line
	2300 4150 1750 4150
Wire Wire Line
	2300 4550 1750 4550
Wire Wire Line
	2300 5150 1750 5150
Wire Wire Line
	2300 5050 1750 5050
Wire Wire Line
	2300 4450 1750 4450
Wire Wire Line
	2300 4650 1750 4650
Wire Wire Line
	2300 4250 1750 4250
Wire Wire Line
	2050 5850 2300 5850
Wire Wire Line
	2050 6050 2300 6050
Connection ~ 2050 6050
Wire Wire Line
	4900 5850 5300 5850
Wire Wire Line
	5300 5850 5300 6450
Wire Wire Line
	5300 6050 4900 6050
Connection ~ 5300 6050
Wire Wire Line
	1750 4750 2300 4750
Wire Wire Line
	2300 4850 1050 4850
Connection ~ 1200 4850
Wire Wire Line
	4900 6250 5300 6250
Connection ~ 5300 6250
Wire Wire Line
	1750 4350 2300 4350
Wire Wire Line
	5300 3050 5300 2950
Connection ~ 6400 3100
Wire Wire Line
	6400 2550 6400 2350
Connection ~ 6400 2350
Connection ~ 2700 6650
Connection ~ 3200 6650
Connection ~ 2950 7050
Wire Wire Line
	2450 7050 3700 7050
Wire Wire Line
	3700 7050 3700 7150
Connection ~ 3450 7050
Wire Wire Line
	2300 3950 1750 3950
Wire Wire Line
	2300 3650 1750 3650
Wire Wire Line
	2300 3550 1750 3550
Wire Wire Line
	2300 5350 1750 5350
Wire Wire Line
	4900 5650 5200 5650
Wire Wire Line
	1450 5250 2300 5250
Wire Wire Line
	5800 3850 5800 2950
Wire Wire Line
	8650 3300 8100 3300
Wire Wire Line
	8650 3400 8100 3400
Wire Wire Line
	8650 3600 8450 3600
Wire Wire Line
	8450 3600 8450 3750
Wire Wire Line
	9900 3300 9900 3100
Wire Wire Line
	4900 4150 5050 4150
Wire Wire Line
	4900 4250 5050 4250
Wire Wire Line
	4900 4350 5050 4350
Wire Wire Line
	4900 4450 5050 4450
Wire Wire Line
	4900 4550 5050 4550
Wire Wire Line
	4900 4650 5050 4650
Wire Wire Line
	4900 4750 5050 4750
Wire Wire Line
	4900 4850 5050 4850
Wire Wire Line
	7650 2050 7650 2500
Wire Wire Line
	7850 2050 7850 2500
Wire Wire Line
	8050 2050 8050 2500
Wire Wire Line
	8250 2050 8250 2500
Wire Wire Line
	6650 4950 4900 4950
Wire Wire Line
	6650 5050 4900 5050
Wire Wire Line
	6650 5150 4900 5150
Wire Wire Line
	6650 5250 4900 5250
Wire Wire Line
	6650 5350 4900 5350
Wire Wire Line
	6650 5450 4900 5450
Wire Wire Line
	5800 4850 5800 5050
Connection ~ 5800 5050
Wire Wire Line
	6200 4850 6200 5250
Connection ~ 6200 5250
Wire Wire Line
	6600 4850 6600 5450
Connection ~ 6600 5450
Wire Wire Line
	5600 4300 6600 4300
Wire Wire Line
	6600 4300 6600 4350
Connection ~ 5600 4300
Wire Wire Line
	6200 4350 6200 4300
Connection ~ 6200 4300
Wire Wire Line
	5800 4350 5800 4300
Connection ~ 5800 4300
Wire Wire Line
	2700 1900 2300 1900
Wire Wire Line
	2700 2200 2300 2200
Wire Wire Line
	2700 2500 2300 2500
Wire Wire Line
	3550 2500 3300 2500
Connection ~ 3550 2500
Wire Wire Line
	3550 1900 3300 1900
Connection ~ 3550 1900
Wire Wire Line
	1800 1600 1600 1600
Connection ~ 1600 1600
Wire Wire Line
	1800 2200 1600 2200
Connection ~ 1600 2200
Wire Wire Line
	5900 3950 4900 3950
Wire Wire Line
	1600 1600 1600 2700
Wire Wire Line
	3300 1600 3550 1600
Connection ~ 3550 1600
Wire Wire Line
	5250 7000 5150 7000
Wire Wire Line
	5150 7000 5150 7450
Wire Wire Line
	5250 7300 4950 7300
Wire Wire Line
	4900 3550 5300 3550
Wire Wire Line
	9400 3850 9550 3850
Wire Wire Line
	9550 3850 9550 3950
Wire Wire Line
	9150 1100 9250 1100
Wire Wire Line
	9250 1300 9150 1300
Wire Wire Line
	9250 1500 9150 1500
Wire Wire Line
	8450 2050 8450 2550
Wire Wire Line
	8450 2550 8550 2550
Wire Wire Line
	8550 2550 8550 2500
Wire Wire Line
	8650 2050 8650 2550
Wire Wire Line
	8650 2550 8750 2550
Wire Wire Line
	8750 2550 8750 2500
Wire Wire Line
	8350 2500 8350 2650
Wire Wire Line
	9650 1500 10100 1500
Connection ~ 10100 1500
Wire Wire Line
	9650 1300 10100 1300
Connection ~ 10100 1300
$Comp
L GND #PWR?
U 1 1 4F81BDA7
P 8350 2650
F 0 "#PWR?" H 8350 2650 30  0001 C CNN
F 1 "GND" H 8350 2580 30  0001 C CNN
	1    8350 2650
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR?
U 1 1 4F81BD7A
P 9550 3950
F 0 "#PWR?" H 9550 3950 30  0001 C CNN
F 1 "GND" H 9550 3880 30  0001 C CNN
	1    9550 3950
	1    0    0    -1  
$EndComp
$Comp
L +3.3V #PWR?
U 1 1 4F81BD79
P 8850 3800
F 0 "#PWR?" H 8850 3760 30  0001 C CNN
F 1 "+3.3V" H 8850 3910 30  0000 C CNN
	1    8850 3800
	1    0    0    -1  
$EndComp
Text Notes 8750 4500 0    60   ~ 0
Find a suitable 3V3 regulator.\nWhat's our current demands?\nLEDs are on raw 5V.\nDecoupling demands?
Text Notes 4900 7350 2    60   ~ 0
what??
$Comp
L CP1 C5
U 1 1 4F81BBA4
P 10350 5900
F 0 "C5" H 10400 6000 50  0000 L CNN
F 1 "CP1" H 10400 5800 50  0000 L CNN
	1    10350 5900
	1    0    0    -1  
$EndComp
$Comp
L C C4
U 1 1 4F81BB9C
P 10400 5450
F 0 "C4" H 10450 5550 50  0000 L CNN
F 1 "C" H 10450 5350 50  0000 L CNN
	1    10400 5450
	0    1    1    0   
$EndComp
Text Notes 6850 1250 2    60   ~ 0
Needs current limiting\nresistor for LED?
Text Notes 5400 7550 0    60   ~ 0
Cortex Debug
NoConn ~ 6050 7100
NoConn ~ 6050 7200
NoConn ~ 5250 7200
$Comp
L CONN_5X2 P2
U 1 1 4F817FD5
P 5650 7100
F 0 "P2" H 5650 7400 60  0000 C CNN
F 1 "CONN_5X2" V 5650 7100 50  0000 C CNN
	1    5650 7100
	1    0    0    -1  
$EndComp
Text Notes 5700 5650 0    60   ~ 0
Pullup current enough to drive\n* transistor for LCD backlight\n* 48 10k resistors to ground worst case (=15.84mA)\nConsider a transistor here, or weaker pullups.
$Comp
L +3.3V #PWR04
U 1 1 4F815B34
P 3550 1350
F 0 "#PWR04" H 3550 1310 30  0001 C CNN
F 1 "+3.3V" H 3550 1460 30  0000 C CNN
	1    3550 1350
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR05
U 1 1 4F815A86
P 1600 2700
F 0 "#PWR05" H 1600 2700 30  0001 C CNN
F 1 "GND" H 1600 2630 30  0001 C CNN
	1    1600 2700
	1    0    0    -1  
$EndComp
$Comp
L SW_PUSH SW4
U 1 1 4F8159F3
P 3000 2500
F 0 "SW4" H 3150 2610 50  0000 C CNN
F 1 "SW_PUSH" H 3000 2420 50  0000 C CNN
	1    3000 2500
	1    0    0    -1  
$EndComp
$Comp
L R R4
U 1 1 4F8159F2
P 2050 2500
F 0 "R4" V 2130 2500 50  0000 C CNN
F 1 "10k" V 2050 2500 50  0000 C CNN
	1    2050 2500
	0    1    1    0   
$EndComp
Text Label 2300 2500 0    60   ~ 0
ENTER
Text Label 2300 2200 0    60   ~ 0
RIGHT
$Comp
L R R3
U 1 1 4F8159EC
P 2050 2200
F 0 "R3" V 2130 2200 50  0000 C CNN
F 1 "10k" V 2050 2200 50  0000 C CNN
	1    2050 2200
	0    1    1    0   
$EndComp
$Comp
L SW_PUSH SW3
U 1 1 4F8159EB
P 3000 2200
F 0 "SW3" H 3150 2310 50  0000 C CNN
F 1 "SW_PUSH" H 3000 2120 50  0000 C CNN
	1    3000 2200
	1    0    0    -1  
$EndComp
$Comp
L SW_PUSH SW2
U 1 1 4F8159DF
P 3000 1900
F 0 "SW2" H 3150 2010 50  0000 C CNN
F 1 "SW_PUSH" H 3000 1820 50  0000 C CNN
	1    3000 1900
	1    0    0    -1  
$EndComp
$Comp
L R R2
U 1 1 4F8159DE
P 2050 1900
F 0 "R2" V 2130 1900 50  0000 C CNN
F 1 "10k" V 2050 1900 50  0000 C CNN
	1    2050 1900
	0    1    1    0   
$EndComp
Text Label 2300 1900 0    60   ~ 0
LEFT
$Comp
L +3.3V #PWR06
U 1 1 4F81385D
P 5600 4250
F 0 "#PWR06" H 5600 4210 30  0001 C CNN
F 1 "+3.3V" H 5600 4360 30  0000 C CNN
	1    5600 4250
	1    0    0    -1  
$EndComp
$Comp
L R R36
U 1 1 4F813834
P 6600 4600
F 0 "R36" V 6680 4600 50  0000 C CNN
F 1 "R" V 6600 4600 50  0000 C CNN
	1    6600 4600
	-1   0    0    1   
$EndComp
$Comp
L R R35
U 1 1 4F813832
P 6400 4600
F 0 "R35" V 6480 4600 50  0000 C CNN
F 1 "R" V 6400 4600 50  0000 C CNN
	1    6400 4600
	-1   0    0    1   
$EndComp
$Comp
L R R34
U 1 1 4F81382D
P 6200 4600
F 0 "R34" V 6280 4600 50  0000 C CNN
F 1 "R" V 6200 4600 50  0000 C CNN
	1    6200 4600
	-1   0    0    1   
$EndComp
$Comp
L R R33
U 1 1 4F813823
P 6000 4600
F 0 "R33" V 6080 4600 50  0000 C CNN
F 1 "R" V 6000 4600 50  0000 C CNN
	1    6000 4600
	-1   0    0    1   
$EndComp
$Comp
L R R32
U 1 1 4F813820
P 5800 4600
F 0 "R32" V 5880 4600 50  0000 C CNN
F 1 "R" V 5800 4600 50  0000 C CNN
	1    5800 4600
	-1   0    0    1   
$EndComp
$Comp
L R R31
U 1 1 4F813810
P 5600 4600
F 0 "R31" V 5680 4600 50  0000 C CNN
F 1 "R" V 5600 4600 50  0000 C CNN
	1    5600 4600
	-1   0    0    1   
$EndComp
Text Label 5300 5550 2    60   ~ 0
LCD_A0
$Comp
L +3.3V #PWR07
U 1 1 4F812CAF
P 7000 1200
F 0 "#PWR07" H 7000 1160 30  0001 C CNN
F 1 "+3.3V" H 7000 1310 30  0000 C CNN
	1    7000 1200
	0    -1   -1   0   
$EndComp
Text GLabel 6500 1600 0    60   Input ~ 0
VPULLUP
Text Notes 6950 700  0    60   ~ 0
This display (NHD-C12832A1Z-FSW-FBW-3V3) isn't really SPI.\nCheck the data sheet for the controller (linked from the display\ndata sheet) to see if we've missed something.
Text Label 7850 2500 1    60   ~ 0
LCD_A0
Text Label 8050 2500 1    60   ~ 0
SPI_MOSI
Text Label 7950 2500 1    60   ~ 0
SPI_SCK
Text Label 7650 2500 1    60   ~ 0
CS_LCD
$Comp
L BC237 Q1
U 1 1 4F812AD6
P 6900 1600
F 0 "Q1" H 7100 1500 50  0000 C CNN
F 1 "BC237" H 7150 1750 50  0000 C CNN
F 2 "TO92-EBC" H 7090 1600 30  0001 C CNN
	1    6900 1600
	1    0    0    -1  
$EndComp
$Comp
L C C22
U 1 1 4F812A9F
P 9450 1500
F 0 "C22" H 9500 1600 50  0000 L CNN
F 1 "1u" H 9500 1400 50  0000 L CNN
	1    9450 1500
	0    1    1    0   
$EndComp
$Comp
L C C21
U 1 1 4F812A9D
P 9800 1400
F 0 "C21" H 9850 1500 50  0000 L CNN
F 1 "1u" H 9850 1300 50  0000 L CNN
	1    9800 1400
	0    1    1    0   
$EndComp
$Comp
L C C20
U 1 1 4F812A9B
P 9450 1300
F 0 "C20" H 9500 1400 50  0000 L CNN
F 1 "1u" H 9500 1200 50  0000 L CNN
	1    9450 1300
	0    1    1    0   
$EndComp
$Comp
L C C19
U 1 1 4F812A98
P 9800 1200
F 0 "C19" H 9850 1300 50  0000 L CNN
F 1 "1u" H 9850 1100 50  0000 L CNN
	1    9800 1200
	0    1    1    0   
$EndComp
$Comp
L C C18
U 1 1 4F812A94
P 9450 1100
F 0 "C18" H 9500 1200 50  0000 L CNN
F 1 "1u" H 9500 1000 50  0000 L CNN
	1    9450 1100
	0    1    1    0   
$EndComp
$Comp
L C C25
U 1 1 4F812A84
P 8350 2300
F 0 "C25" H 8400 2400 50  0000 L CNN
F 1 "1u" H 8400 2200 50  0000 L CNN
	1    8350 2300
	1    0    0    -1  
$EndComp
$Comp
L C C24
U 1 1 4F812A4F
P 8550 2300
F 0 "C24" H 8600 2400 50  0000 L CNN
F 1 "1u" H 8600 2200 50  0000 L CNN
	1    8550 2300
	1    0    0    -1  
$EndComp
$Comp
L C C23
U 1 1 4F812A4D
P 8750 2300
F 0 "C23" H 8800 2400 50  0000 L CNN
F 1 "1u" H 8800 2200 50  0000 L CNN
	1    8750 2300
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR08
U 1 1 4F812A3E
P 8250 2500
F 0 "#PWR08" H 8250 2500 30  0001 C CNN
F 1 "GND" H 8250 2430 30  0001 C CNN
	1    8250 2500
	1    0    0    -1  
$EndComp
$Comp
L +3.3V #PWR09
U 1 1 4F812A3B
P 8150 2250
F 0 "#PWR09" H 8150 2210 30  0001 C CNN
F 1 "+3.3V" H 8150 2360 30  0000 C CNN
	1    8150 2250
	-1   0    0    1   
$EndComp
$Comp
L +3.3V #PWR010
U 1 1 4F812A01
P 7750 2500
F 0 "#PWR010" H 7750 2460 30  0001 C CNN
F 1 "+3.3V" H 7750 2610 30  0000 C CNN
	1    7750 2500
	-1   0    0    1   
$EndComp
$Comp
L NHD-LCD LCD1
U 1 1 4F8129BD
P 8500 1450
F 0 "LCD1" H 8800 1950 60  0000 C CNN
F 1 "NHD-LCD" H 7750 1950 60  0000 C CNN
	1    8500 1450
	1    0    0    -1  
$EndComp
Text GLabel 5050 4850 2    60   Input ~ 0
BUS_7
Text GLabel 5050 4750 2    60   Input ~ 0
BUS_6
Text GLabel 5050 4650 2    60   Input ~ 0
BUS_5
Text GLabel 5050 4550 2    60   Input ~ 0
BUS_4
Text GLabel 5050 4450 2    60   Input ~ 0
BUS_3
Text GLabel 5050 4350 2    60   Input ~ 0
BUS_2
Text GLabel 5050 4250 2    60   Input ~ 0
BUS_1
Text GLabel 5050 4150 2    60   Input ~ 0
BUS_0
$Comp
L +3.3V #PWR011
U 1 1 4F80ADE5
P 10050 3100
F 0 "#PWR011" H 10050 3060 30  0001 C CNN
F 1 "+3.3V" H 10050 3210 30  0000 C CNN
	1    10050 3100
	1    0    0    -1  
$EndComp
$Comp
L +3.3V #PWR012
U 1 1 4F80ADC6
P 8600 3100
F 0 "#PWR012" H 8600 3060 30  0001 C CNN
F 1 "+3.3V" H 8600 3210 30  0000 C CNN
	1    8600 3100
	1    0    0    -1  
$EndComp
$Comp
L +3.3V #PWR013
U 1 1 4F80ADAB
P 9900 3100
F 0 "#PWR013" H 9900 3060 30  0001 C CNN
F 1 "+3.3V" H 9900 3210 30  0000 C CNN
	1    9900 3100
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR014
U 1 1 4F80AD99
P 8450 3750
F 0 "#PWR014" H 8450 3750 30  0001 C CNN
F 1 "GND" H 8450 3680 30  0001 C CNN
	1    8450 3750
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR015
U 1 1 4F80AD93
P 9550 6150
F 0 "#PWR015" H 9550 6150 30  0001 C CNN
F 1 "GND" H 9550 6080 30  0001 C CNN
	1    9550 6150
	1    0    0    -1  
$EndComp
Text Label 10300 3600 2    60   ~ 0
SPI_MOSI
Text Label 10300 3500 2    60   ~ 0
SPI_SCK
Text Label 8100 3400 0    60   ~ 0
SPI_MISO
Text Label 8100 3300 0    60   ~ 0
CS_FLASH
$Comp
L SPI-FLASH U1
U 1 1 4F8082AC
P 9250 3450
F 0 "U1" H 9050 3750 60  0000 C CNN
F 1 "SPI-FLASH" H 9250 3200 60  0000 C CNN
	1    9250 3450
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR016
U 1 1 4F80593B
P 9550 6150
F 0 "#PWR016" H 9550 6150 30  0001 C CNN
F 1 "GND" H 9550 6080 30  0001 C CNN
	1    9550 6150
	1    0    0    -1  
$EndComp
$Comp
L +3.3V #PWR017
U 1 1 4F805934
P 10350 5150
F 0 "#PWR017" H 10350 5110 30  0001 C CNN
F 1 "+3.3V" H 10350 5260 30  0000 C CNN
	1    10350 5150
	1    0    0    -1  
$EndComp
Text Label 2300 1600 0    60   ~ 0
BACK
$Comp
L R R1
U 1 1 4F8057D6
P 2050 1600
F 0 "R1" V 2130 1600 50  0000 C CNN
F 1 "10k" V 2050 1600 50  0000 C CNN
	1    2050 1600
	0    1    1    0   
$EndComp
Text GLabel 5200 5650 2    60   Output ~ 0
VPULLUP
$Comp
L +3.3V #PWR018
U 1 1 4F8054E6
P 800 5200
F 0 "#PWR018" H 800 5160 30  0001 C CNN
F 1 "+3.3V" H 800 5310 30  0000 C CNN
	1    800  5200
	1    0    0    -1  
$EndComp
$Comp
L R R6
U 1 1 4F8054CD
P 1200 5250
F 0 "R6" V 1280 5250 50  0000 C CNN
F 1 "100k" V 1200 5250 50  0000 C CNN
	1    1200 5250
	0    -1   -1   0   
$EndComp
$Comp
L SW_PUSH SW1
U 1 1 4F805445
P 3000 1600
F 0 "SW1" H 3150 1710 50  0000 C CNN
F 1 "SW_PUSH" H 3000 1520 50  0000 C CNN
	1    3000 1600
	1    0    0    -1  
$EndComp
$Comp
L LP2985LV U6
U 1 1 4F80534A
P 9550 5450
F 0 "U6" H 9750 5000 60  0000 C CNN
F 1 "LP2985LV" H 9550 5900 60  0000 C CNN
	1    9550 5450
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR019
U 1 1 4F8052CB
P 6800 4050
F 0 "#PWR019" H 6800 4050 30  0001 C CNN
F 1 "GND" H 6800 3980 30  0001 C CNN
	1    6800 4050
	0    -1   -1   0   
$EndComp
$Comp
L GND #PWR020
U 1 1 4F805118
P 5150 7450
F 0 "#PWR020" H 5150 7450 30  0001 C CNN
F 1 "GND" H 5150 7380 30  0001 C CNN
	1    5150 7450
	1    0    0    -1  
$EndComp
$Comp
L +3.3V #PWR021
U 1 1 4F80510E
P 5200 6800
F 0 "#PWR021" H 5200 6760 30  0001 C CNN
F 1 "+3.3V" H 5200 6910 30  0000 C CNN
	1    5200 6800
	1    0    0    -1  
$EndComp
Text Label 6500 7000 2    60   ~ 0
SWCLK
Text Label 6500 6900 2    60   ~ 0
SWDIO
Text Label 6500 7300 2    60   ~ 0
RST
Text Label 1800 5250 0    60   ~ 0
SWDIO
Text Label 1750 5350 0    60   ~ 0
SWCLK
Text Label 1750 5450 0    60   ~ 0
ENTER
Text Notes 5950 3450 0    60   ~ 0
Needs a resistor?
Text Notes 2800 3150 0    60   ~ 0
Boot modes:\nBOOT1:BOOT0 = x0 --> flash\nBOOT1:BOOT0 = 01 --> bootloader
Text Label 1750 3750 0    60   ~ 0
RIGHT
Text Label 1750 3650 0    60   ~ 0
LEFT
Text Label 1750 3550 0    60   ~ 0
BACK
Text HLabel 6650 5450 2    60   Output ~ 0
BUF_OE6
Text HLabel 6650 5350 2    60   Output ~ 0
BUF_OE5
Text HLabel 6650 5250 2    60   Output ~ 0
BUF_OE4
Text HLabel 6650 5150 2    60   Output ~ 0
BUF_OE3
Text HLabel 6650 5050 2    60   Output ~ 0
BUF_OE2
Text HLabel 6650 4950 2    60   Output ~ 0
BUF_OE1
Text Label 1750 4050 0    60   ~ 0
CS_FLASH
Text Label 1750 3950 0    60   ~ 0
CS_LCD
$Comp
L C C1
U 1 1 4F804892
P 9200 3850
F 0 "C1" H 9250 3950 50  0000 L CNN
F 1 "C" H 9250 3750 50  0000 L CNN
	1    9200 3850
	0    1    1    0   
$EndComp
$Comp
L +3.3V #PWR022
U 1 1 4F804819
P 3700 6600
F 0 "#PWR022" H 3700 6560 30  0001 C CNN
F 1 "+3.3V" H 3700 6710 30  0000 C CNN
	1    3700 6600
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR023
U 1 1 4F804810
P 3700 7150
F 0 "#PWR023" H 3700 7150 30  0001 C CNN
F 1 "GND" H 3700 7080 30  0001 C CNN
	1    3700 7150
	1    0    0    -1  
$EndComp
$Comp
L C C13
U 1 1 4F8047E5
P 2450 6850
F 0 "C13" H 2500 6950 50  0000 L CNN
F 1 "C" H 2500 6750 50  0000 L CNN
	1    2450 6850
	1    0    0    -1  
$EndComp
$Comp
L C C14
U 1 1 4F8047E3
P 2700 6850
F 0 "C14" H 2750 6950 50  0000 L CNN
F 1 "C" H 2750 6750 50  0000 L CNN
	1    2700 6850
	1    0    0    -1  
$EndComp
$Comp
L C C15
U 1 1 4F8047E0
P 2950 6850
F 0 "C15" H 3000 6950 50  0000 L CNN
F 1 "C" H 3000 6750 50  0000 L CNN
	1    2950 6850
	1    0    0    -1  
$EndComp
Text Label 4950 3950 0    60   ~ 0
OSCOUT
Text Label 4950 3850 0    60   ~ 0
OSCIN
Text Label 4950 3650 0    60   ~ 0
BOOT0
Text Label 4950 3550 0    60   ~ 0
RST
$Comp
L GND #PWR024
U 1 1 4F804740
P 6500 2350
F 0 "#PWR024" H 6500 2350 30  0001 C CNN
F 1 "GND" H 6500 2280 30  0001 C CNN
	1    6500 2350
	0    -1   -1   0   
$EndComp
$Comp
L +3.3V #PWR025
U 1 1 4F804716
P 5300 2950
F 0 "#PWR025" H 5300 2910 30  0001 C CNN
F 1 "+3.3V" H 5300 3060 30  0000 C CNN
	1    5300 2950
	1    0    0    -1  
$EndComp
$Comp
L R R5
U 1 1 4F8046CA
P 5300 3300
F 0 "R5" V 5380 3300 50  0000 C CNN
F 1 "R" V 5300 3300 50  0000 C CNN
	1    5300 3300
	1    0    0    -1  
$EndComp
$Comp
L C C12
U 1 1 4F8046B9
P 6400 2750
F 0 "C12" H 6450 2850 50  0000 L CNN
F 1 "pF" H 6450 2650 50  0000 L CNN
	1    6400 2750
	1    0    0    -1  
$EndComp
$Comp
L C C2
U 1 1 4F8046B1
P 5800 2750
F 0 "C2" H 5850 2850 50  0000 L CNN
F 1 "pF" H 5850 2650 50  0000 L CNN
	1    5800 2750
	1    0    0    -1  
$EndComp
$Comp
L CRYSTAL X1
U 1 1 4F8046A8
P 6100 3100
F 0 "X1" H 6100 3250 60  0000 C CNN
F 1 "CRYSTAL" H 6100 2950 60  0000 C CNN
	1    6100 3100
	1    0    0    -1  
$EndComp
Text HLabel 1750 4150 0    60   Output ~ 0
MIDI_TX
Text HLabel 1750 4250 0    60   Input ~ 0
MIDI_RX
Text HLabel 1750 5150 0    60   BiDi ~ 0
USB_DP
Text HLabel 1750 5050 0    60   BiDi ~ 0
USB_DM
Text HLabel 1050 4950 0    60   Input ~ 0
PGM_RX
Text HLabel 1050 4850 0    60   Output ~ 0
PGM_TX
$Comp
L +3.3V #PWR026
U 1 1 4F802EBD
P 2050 5650
F 0 "#PWR026" H 2050 5610 30  0001 C CNN
F 1 "+3.3V" H 2050 5760 30  0000 C CNN
	1    2050 5650
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR027
U 1 1 4F802EA6
P 5300 6450
F 0 "#PWR027" H 5300 6450 30  0001 C CNN
F 1 "GND" H 5300 6380 30  0001 C CNN
	1    5300 6450
	1    0    0    -1  
$EndComp
Text Notes 6200 3950 0    60   ~ 0
Boot pull-down.
$Comp
L R R29
U 1 1 4F7F4598
P 6400 4050
F 0 "R29" V 6480 4050 50  0000 C CNN
F 1 "R" V 6400 4050 50  0000 C CNN
	1    6400 4050
	0    1    1    0   
$EndComp
Text Notes 7200 5100 0    60   ~ 0
encoder output\nbuffer enables\n(active low)
Text Notes 7200 4350 0    60   ~ 0
encoder\noutputs\nthrough\nbuffers/latches
Text HLabel 1750 4350 0    60   Output ~ 0
LED_LATCH
$Comp
L CP1 C10
U 1 1 4F7F406E
P 3450 6850
F 0 "C10" H 3500 6950 50  0000 L CNN
F 1 "CP1" H 3500 6750 50  0000 L CNN
	1    3450 6850
	1    0    0    -1  
$EndComp
$Comp
L C C9
U 1 1 4F7F405D
P 3200 6850
F 0 "C9" H 3250 6950 50  0000 L CNN
F 1 "C" H 3250 6750 50  0000 L CNN
	1    3200 6850
	1    0    0    -1  
$EndComp
Text Label 1800 5150 0    60   ~ 0
USB_DP
Text Label 1800 5050 0    60   ~ 0
USB_DM
Text HLabel 1150 4750 0    60   Output ~ 0
LED_DATA
Text Label 1750 4450 0    60   ~ 0
SPI_SCK
Text Label 1750 4550 0    60   ~ 0
SPI_MISO
Text Label 1750 4650 0    60   ~ 0
SPI_MOSI
Text HLabel 1750 4750 0    60   Output ~ 0
LED_CLK
Text Label 1800 4850 0    60   ~ 0
USART1_TX
Text Label 1800 4750 0    60   ~ 0
USART1_CK
$Comp
L STM32F102CX U2
U 1 1 4F7F00D7
P 3650 4800
F 0 "U2" H 4550 3250 60  0000 C CNN
F 1 "STM32F102CX" H 2900 3250 60  0000 C CNN
	1    3650 4800
	1    0    0    -1  
$EndComp
$EndSCHEMATC
